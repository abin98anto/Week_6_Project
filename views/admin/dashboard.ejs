<% include('../layouts/header.ejs') %>

<!-- Link to Bootstrap CSS (adjust the version as needed) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>

<style>
    body {
        background-color: #2b2b2b;
        color: white;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
        max-width: 1100px;
        border-radius: 5;
    }

    table {
        background: #1f1f1f; 
        border: 10px solid black;
        border-radius: 50px;
        padding: 10px;
        box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1), 0 0 40px rgba(255, 255, 255, 0.1);
        margin-top: 20px;
        width: 100%;
    }

    th, td {
        color: white;
        padding: 5px;
        text-align: center;
    }

    th {
        background-color: #3498db;
    }

    img {
        border-radius: 5px; /* Rounded corners for images */
    }

    button {
      margin: 10px;
    }

     /* .buttons-container {
        margin-top: 20px;
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        width: 100%;
    }

    .buttons-container a {
        margin-bottom: 10px;
        
    }  */
</style>
<h1>Dashboard</h1>
<div class="buttons-container">
        <a href="/admin/new-user" class="btn btn-primary">Add New User</a>
        <a href="/admin/home" class="btn btn-secondary">Home</a>
    </div>

<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Mobile</th>
                <th>Image</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (users.length > 0) { %>
                <% for (let i=0; i<users.length; i++) { %>
                    <tr>
                        <td><%= users[i].name %></td>
                        <td><%= users[i].email %></td>
                        <td><%= users[i].mobile %></td>
                        <td><img src="/userImages/<%= users[i].image %>" alt="<%= users[i].image %>" width="100px" height="100px"></td>
                        <td>
                            <a href="/admin/edit-user?id=<%= users[i]._id %>" class="btn btn-info">Edit</a>
                            <a href="/admin/delete-user?id=<%= users[i]._id %>" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                <% } %>
            <% } else { %>
                <tr>
                    <td colspan="5">Users Not Found!</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>

<% include('../layouts/footer.ejs') %>
